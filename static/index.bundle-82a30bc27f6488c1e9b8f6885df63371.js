webpackJsonp([0],{139:function(e,t,n){"use strict";function s(e){var t=o[e];if(t)return t;var n=Object.keys(o).length%i.length;return o[e]=i[n],i[n]}t.a=s;var i=["#4BC0C0","#FFA6B8","#36A2EB","#FFCE56","#979D91","#A71D1D","#714096","#8CCB2A","#ED8618","#6B720C"],o={}},14:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var s={chart:[{enabled:!0,name:"logCount",description:"日志数"},{enabled:!0,name:"cpu",description:"CPU",unit:"%"},{enabled:!0,name:"memory",description:"内存",unit:"%"}],protobuf:{enabled:!0}};loadConfig&&loadConfig(s),s.chart=s.chart.filter(function(e){return e.enabled});for(var i=0,o=s.chart;i<o.length;i++){var a=o[i];"unit"in a||(a.unit=void 0),"unitScale"in a||(a.unitScale=void 0),"compute"in a||(a.compute=void 0)}},140:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var s={secondsAgo:function(e){return"几秒前"},inSeconds:function(e){return"几秒后"},oneMinuteAgo:"1分钟前",inOneMinute:"1分钟后",minutesAgo:function(e){return e+"分钟前"},inMinutes:function(e){return e+"分钟后"},oneHourAgo:"1小时前",inOneHour:"1小时后",hoursAgo:function(e){return e+"小时前"},inHours:function(e){return e+"小时后"},oneDayAgo:"1天前",inOneDay:"1天后",daysAgo:function(e){return e+"天前"},inDays:function(e){return e+"天后"},oneMonthAgo:"1个月前",inOneMonth:"1个月后",monthsAgo:function(e){return e+"个月前"},inMonths:function(e){return e+"个月后"},oneYearAgo:"1年前",inOneYear:"1年后",yearsAgo:function(e){return e+"年前"},inYears:function(e){return e+"年后"}}},22:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"e",function(){return r}),n.d(t,"f",function(){return l}),n.d(t,"g",function(){return u}),n.d(t,"h",function(){return c}),n.d(t,"i",function(){return d});var s='<div><h4>Log Tool</h4><tab-container :data="data" @switching="switching($event)"></tab-container></div>',i='<div class="panel"><button class="btn btn-primary" @click="resaveFailedLogs()">resave failed logs</button></div>',o={nested:{RequestProtocol:{fields:{requestId:{type:"uint32",id:1},kind:{type:"string",id:2},searchLogs:{type:"SearchLogs",id:3},searchSamples:{type:"SearchSamples",id:4}}},SearchLogs:{fields:{content:{type:"string",id:1},time:{type:"string",id:2},hostname:{type:"string",id:3},from:{type:"uint32",id:4},size:{type:"uint32",id:5}}},SearchSamples:{fields:{from:{type:"string",id:1},to:{type:"string",id:2}}},ResponseProtocol:{fields:{kind:{type:"string",id:1},flows:{type:"Flows",id:2},historySamples:{rule:"repeated",type:"SampleFrame",id:3},searchLogsResult:{type:"SearchLogsResult",id:4},searchSamplesResult:{type:"SearchSamplesResult",id:5},resaveFailedLogsResult:{type:"ResaveFailedLogsResult",id:6}}},Flows:{fields:{serverTime:{type:"string",id:1},flows:{rule:"repeated",type:"Flow",id:2}}},SearchLogsResult:{fields:{requestId:{type:"uint32",id:1},kind:{type:"string",id:2},total:{type:"uint32",id:3},logs:{rule:"repeated",type:"Log",id:4},error:{type:"string",id:5}}},SearchSamplesResult:{fields:{requestId:{type:"uint32",id:1},kind:{type:"string",id:2},searchSampleResult:{rule:"repeated",type:"SampleFrame",id:3},error:{type:"string",id:4}}},ResaveFailedLogsResult:{fields:{requestId:{type:"uint32",id:1},kind:{type:"string",id:2},savedCount:{type:"uint32",id:3},totalCount:{type:"uint32",id:4},error:{type:"string",id:5}}},SampleFrame:{fields:{time:{type:"string",id:1},samples:{rule:"repeated",type:"Sample",id:2}}},FlowProtocol:{fields:{flows:{rule:"repeated",type:"Flow",id:1}}},Flow:{fields:{kind:{type:"string",id:1},log:{type:"Log",id:2},sample:{type:"Sample",id:3}}},Log:{fields:{time:{type:"string",id:1},content:{type:"string",id:2},filepath:{type:"string",id:3},hostname:{type:"string",id:4}}},Sample:{fields:{hostname:{type:"string",id:1},port:{type:"uint32",id:2},values:{keyType:"string",type:"uint32",id:3}}}}},a='<div class="panel"><div><button class="btn btn-default btn-sm" @click="clearLogsPush()" :disabled="logsPush.length === 0">clear</button><label><input type="checkbox" v-model="showRawLogPush"> show raw data</label><label><input type="checkbox" v-model="showFormattedLogPush"> show formatted data</label></div><ul><li class="hide-button-container li-result-item" v-for="(log, index) in logsPush"><span class="label label-primary"><relative-time :time="log.timeValue" :locale="locale"></relative-time></span><span class="label label-default">{{log.hostname}}</span><span class="label label-default">{{log.filepath}}</span><pre v-if="log.content && showRawLogPush">{{log.content}}</pre><pre :id="logPushId(index)" v-if="log.formattedContent && showFormattedLogPush && log.visible">{{log.formattedContent}}</pre><button class="btn btn-default btn-sm" :style="visibilityButtonStyle(log)" @click="toggleVisibility(log)" v-if="log.formattedContent && showFormattedLogPush">{{ log.visible ? "hide formatted" : "show formatted" }}</button></li></ul></div>',r='<div class="panel"><ul class="menu"><li v-for="(config, index) in chartConfigs"><a href="javascript:void(0)" @click="scrollBy(config.name)">{{config.description}}</a></li></ul><div v-for="(config, index) in chartConfigs"><h4 style="padding-top: 10px">{{config.description}} {{config.unit !== undefined ? ("(" + config.unit + ")") : ""}} {{config.sum !== undefined ? (" " + config.sum) : ""}}</h4><canvas :id="\'current-\' + config.name" class="graph" :width="chartWidth" height="300"></canvas></div></div>',l={$ref:"#/definitions/RequestProtocol",definitions:{RequestProtocol:{type:"object",properties:{requestId:{type:"integer",minimum:0,maximum:4294967295},kind:{type:"string",enum:["search logs","search samples","resave failed logs"]},searchLogs:{$ref:"#/definitions/SearchLogs"},searchSamples:{$ref:"#/definitions/SearchSamples"}},required:["requestId","kind"],additionalProperties:!1,maxProperties:3},SearchLogs:{type:"object",properties:{content:{type:"string"},time:{type:"string"},hostname:{type:"string"},from:{type:"integer",minimum:0,maximum:4294967295},size:{type:"integer",minimum:0,maximum:4294967295}},required:["content","time","hostname","from","size"],additionalProperties:!1},SearchSamples:{type:"object",properties:{from:{type:"string"},to:{type:"string"}},required:["from","to"],additionalProperties:!1}}},u={$ref:"#/definitions/ResponseProtocol",definitions:{ResponseProtocol:{type:"object",properties:{kind:{type:"string",enum:["flows","history samples","search logs result","search samples result","resave failed logs result"]},flows:{$ref:"#/definitions/Flows"},historySamples:{type:"array",items:{$ref:"#/definitions/SampleFrame"}},searchLogsResult:{$ref:"#/definitions/SearchLogsResult"},searchSamplesResult:{$ref:"#/definitions/SearchSamplesResult"},resaveFailedLogsResult:{$ref:"#/definitions/ResaveFailedLogsResult"}},required:["kind"],additionalProperties:!1,maxProperties:2},Flows:{type:"object",properties:{serverTime:{type:"string"},flows:{type:"array",items:{$ref:"#/definitions/Flow"}}},required:["serverTime","flows"],additionalProperties:!1},Flow:{type:"object",properties:{kind:{type:"string",enum:["log","sample"]},log:{$ref:"#/definitions/Log"},sample:{$ref:"#/definitions/Sample"}},required:["kind"],additionalProperties:!1,minProperties:2,maxProperties:2},Log:{type:"object",properties:{time:{type:"string"},content:{type:"string"},filepath:{type:"string"},hostname:{type:"string"}},required:["time","content","filepath","hostname"],additionalProperties:!1},Sample:{type:"object",properties:{hostname:{type:"string"},port:{type:"integer",minimum:0,maximum:4294967295},values:{type:"object",additionalProperties:{type:"integer",minimum:0,maximum:4294967295}}},required:["hostname","values"],additionalProperties:!1},SampleFrame:{type:"object",properties:{time:{type:"string"},samples:{type:"array",items:{$ref:"#/definitions/Sample"}}},required:["time"],additionalProperties:!1},SearchLogsResult:{type:"object",properties:{requestId:{type:"integer",minimum:0,maximum:4294967295},kind:{type:"string",enum:["success","fail"]},total:{type:"integer",minimum:0,maximum:4294967295},logs:{type:"array",items:{$ref:"#/definitions/Log"}},error:{type:"string"}},required:["requestId","kind"],additionalProperties:!1,minProperties:3,maxProperties:4},SearchSamplesResult:{type:"object",properties:{requestId:{type:"integer",minimum:0,maximum:4294967295},kind:{type:"string",enum:["success","fail"]},searchSampleResult:{type:"array",items:{$ref:"#/definitions/SampleFrame"}},error:{type:"string"}},required:["requestId","kind"],additionalProperties:!1,maxProperties:3},ResaveFailedLogsResult:{type:"object",properties:{requestId:{type:"integer",minimum:0,maximum:4294967295},kind:{type:"string",enum:["success","fail"]},savedCount:{type:"integer",minimum:0,maximum:4294967295},totalCount:{type:"integer",minimum:0,maximum:4294967295},error:{type:"string"}},required:["requestId","kind"],additionalProperties:!1,minProperties:3,maxProperties:4}}},c='<div class="panel"><div class="flex-center"><input class="form-control" v-model="content" title="content" @keyup.enter="search(true)"> <input class="form-control" v-model="time" title="time" @keyup.enter="search(true)"> <input class="form-control" v-model="hostname" titme="hostname" @keyup.enter="search(true)"><button class="btn btn-primary btn-lg primary-button" @click="search(true)" :disabled="!content">search</button></div><div><button class="btn btn-default btn-sm" @click="clearLogsSearchResult()" :disabled="logsSearchResult.length === 0">clear</button><label><input type="checkbox" v-model="showRawLogResult"> show raw data</label><label><input type="checkbox" v-model="showFormattedLogResult"> show formatted data</label></div><ul><li class="li-result-item" v-if="logsSearchResult.length === 0"><pre class="pre">not started or nothing found.</pre></li><li class="hide-button-container li-result-item" v-for="(log, index) in logsSearchResult"><span class="label label-primary"><relative-time :time="log.timeValue" :locale="locale"></relative-time></span><span class="label label-default">{{log.hostname}}</span><span class="label label-default">{{log.filepath}}</span><pre class="pre" v-if="log.content && showRawLogResult" v-html="log.content"></pre><pre class="pre" :id="logSearchResultId(index)" v-if="log.formattedContent && showFormattedLogResult && log.visible" v-html="log.formattedContent"></pre><button class="btn btn-default btn-sm" :style="visibilityButtonStyle(log)" @click="toggleVisibility(log)" v-if="log.formattedContent && showFormattedLogResult">{{ log.visible ? "hide formatted" : "show formatted" }}</button></li></ul><div v-if="logsSearchResult.length > 0 && leftCount > 0"><button class="btn btn-primary" @click="search(false)">continue<span class="badge">{{leftCount}}</span></button></div></div>',d='<div class="panel"><div class="flex-center"><input class="form-control" style="width: 30%" v-model="searchFrom"> <input class="form-control" style="width: 30%" v-model="searchTo"><button class="btn btn-primary btn-lg primary-button" @click="searchSamples()" :disabled="!searchFrom || !searchTo">search</button></div><ul class="menu list-unstyled"><li v-for="(config, index) in chartConfigs"><a :href="\'#\' + config.name">{{config.description}}</a></li></ul><div v-for="(config, index) in chartConfigs"><h4 :id="config.name" style="padding-top: 10px">{{config.description}} {{config.unit !== undefined ? ("(" + config.unit + ")") : ""}}</h4><canvas :id="\'history-\' + config.name" class="graph" :width="chartWidth" height="300"></canvas></div></div>'},36:function(e,t,n){"use strict";function s(e){return{position:"absolute",bottom:(e.visible?10+e.visibilityButtonExtraBottom:0)+"px",right:"10px"}}function i(e,t,n){if(e){var s=e.getBoundingClientRect();t.visibilityButtonExtraBottom=s.top<n-40&&s.top+s.height>n?s.top+s.height-n:0}}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(1),r=n(2),l=n.n(r),u=n(3),c=n.n(u),d=n(5),m=(n.n(d),n(15)),p=n(16),h=n(21),f=(n.n(h),n(22)),g=n(48),v=(n.n(g),n(49)),b=n(92),y=n(14),S=n(140),R=null,w="*",x='["1970-01-01 00:00:00" TO *]',L="*",k=new h.Subject,C=new h.Subject,P=new h.Subject,F=new h.Subject,Y=new h.Subject,D=new h.Subject;k.subscribe(function(e){if("flows"===e.kind){var t=[];if(e.flows&&e.flows.flows)for(var n=0,s=e.flows.flows;n<s.length;n++){var i=s[n];if("log"===i.kind){var o=i.log;o.visible=!0,o.visibilityButtonExtraBottom=0;try{o.formattedContent=JSON.stringify(JSON.parse(o.content),null,"  ")}catch(e){v.c(e)}C.next(o),D.next()}else"sample"===i.kind&&t.push(i.sample)}t.length>0&&Object(b.a)({time:e.flows.serverTime,samples:t}),Y.next()}else if("history samples"===e.kind){void 0===e.historySamples&&(e.historySamples=[]),Object(b.b)();for(var a=0,r=e.historySamples;a<r.length;a++){var l=r[a];Object(b.a)(l)}}});var j=new p.a(k,function(e){return"search logs result"===e.kind?e.searchLogsResult.requestId:"search samples result"===e.kind?e.searchSamplesResult.requestId:"resave failed logs result"===e.kind?e.resaveFailedLogsResult.requestId:void 0},function(e){return"search logs result"===e.kind&&"fail"===e.searchLogsResult.kind?e.searchLogsResult.error:"search samples result"===e.kind&&"fail"===e.searchSamplesResult.kind?e.searchSamplesResult.error:"resave failed logs result"===e.kind&&"fail"===e.resaveFailedLogsResult.kind?e.resaveFailedLogsResult.error:""}),M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.logsSearchResult=[],t.content=w,t.time=x,t.hostname=L,t.showRawLogResult=!1,t.showFormattedLogResult=!0,t.locale=R,t.logsSearchResultCount=0,t.from=0,t.size=10,t}return a.b(t,e),Object.defineProperty(t.prototype,"leftCount",{get:function(){return this.logsSearchResultCount-this.from-this.size},enumerable:!0,configurable:!0}),t.prototype.beforeMount=function(){var e=this;F.subscribe(function(t){for(var n=0;n<e.logsSearchResult.length;n++){var s=e.logsSearchResult[n];i(document.getElementById(e.logSearchResultId(n)),s,t)}})},t.prototype.beforeDestroy=function(){F.unsubscribe()},t.prototype.visibilityButtonStyle=function(e){return s(e)},t.prototype.search=function(e){var t=this;e?(this.from=0,this.logsSearchResult=[],this.logsSearchResultCount=0):this.from+=this.size,o&&j.send(function(e){var n=v.b({kind:"search logs",requestId:e,searchLogs:{content:t.content,time:t.time,hostname:t.hostname,from:t.from,size:t.size}});n&&o.send(n)}).then(function(e){if("search logs result"===e.kind&&e.searchLogsResult&&"success"===e.searchLogsResult.kind&&e.searchLogsResult.logs){for(var n=0,s=e.searchLogsResult.logs;n<s.length;n++){var i=s[n],o=i;o.timeValue=d(o.time).valueOf(),o.visible=!0,o.visibilityButtonExtraBottom=0;try{o.formattedContent=JSON.stringify(JSON.parse(i.content),null,"  ")}catch(e){v.c(e)}t.content&&"*"!==t.content&&(o.content=o.content.split(t.content).join('<span class="highlighted">'+t.content+"</span>"),o.formattedContent&&(o.formattedContent=o.formattedContent.split(t.content).join('<span class="highlighted">'+t.content+"</span>"))),t.logsSearchResult.push(o)}t.logsSearchResultCount=e.searchLogsResult.total}else t.logsSearchResult=[],t.logsSearchResultCount=0},function(e){C.next({time:d().format("YYYY-MM-DD HH:mm:ss"),content:e.message,hostname:"",filepath:"",timeValue:Date.now()}),D.next()})},t.prototype.clearLogsSearchResult=function(){this.logsSearchResult=[]},t.prototype.logSearchResultId=function(e){return"log-search-result-"+e},t.prototype.toggleVisibility=function(e){e.visible=!e.visible},t=a.a([c()({template:f.h,props:["data"]})],t)}(l.a);l.a.component("search-logs",M);var q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.logsPush=[],t.showRawLogPush=!1,t.showFormattedLogPush=!0,t.locale=R,t}return a.b(t,e),t.prototype.beforeMount=function(){var e=this;C.subscribe(function(t){e.logsPush.unshift(t)}),F.subscribe(function(t){for(var n=0;n<e.logsPush.length;n++){var s=e.logsPush[n];i(document.getElementById(e.logPushId(n)),s,t)}}),Y.subscribe(function(){Object(b.d)(e.logsPush)})},t.prototype.beforeDestroy=function(){C.unsubscribe(),F.unsubscribe(),Y.unsubscribe()},t.prototype.visibilityButtonStyle=function(e){return s(e)},t.prototype.clearLogsPush=function(){this.logsPush=[]},t.prototype.logPushId=function(e){return"log-push-"+e},t.prototype.toggleVisibility=function(e){e.visible=!e.visible},t=a.a([c()({template:f.d,props:["data"]})],t)}(l.a);l.a.component("realtime-logs",q);var H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.searchFrom=d().clone().add(-1,"minute").format("YYYY-MM-DD HH:mm:ss"),t.searchTo=d().format("YYYY-MM-DD HH:mm:ss"),t.chartConfigs=y.a.chart,t.chartWidth=0,t}return a.b(t,e),t.prototype.beforeMount=function(){var e=this;P.subscribe(function(t){e.chartWidth=t})},t.prototype.beforeDestroy=function(){P.unsubscribe()},t.prototype.searchSamples=function(){var e=this;if(o){if(!d(this.searchFrom).isValid())return C.next({time:d().format("YYYY-MM-DD HH:mm:ss"),content:"search from is invalid: "+this.searchFrom,hostname:"",filepath:"",timeValue:Date.now()}),void D.next();if(!d(this.searchTo).isValid())return C.next({time:d().format("YYYY-MM-DD HH:mm:ss"),content:"search to is invalid: "+this.searchTo,hostname:"",filepath:"",timeValue:Date.now()}),void D.next();j.send(function(t){o.send(v.b({kind:"search samples",requestId:t,searchSamples:{from:e.searchFrom,to:e.searchTo}}))}).then(function(e){"search samples result"===e.kind&&("success"===e.searchSamplesResult.kind?e.searchSamplesResult.searchSampleResult?Object(b.c)(e.searchSamplesResult.searchSampleResult):Object(b.c)([]):(C.next({time:d().format("YYYY-MM-DD HH:mm:ss"),content:e.searchSamplesResult.error,hostname:"",filepath:"",timeValue:Date.now()}),D.next()))},function(e){C.next({time:d().format("YYYY-MM-DD HH:mm:ss"),content:e.message,hostname:"",filepath:"",timeValue:Date.now()}),D.next()})}},t=a.a([c()({template:f.i,props:["data"]})],t)}(l.a);l.a.component("search-samples",H);var B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.chartConfigs=y.a.chart,t.chartWidth=0,t}return a.b(t,e),t.prototype.beforeMount=function(){var e=this;P.subscribe(function(t){e.chartWidth=t})},t.prototype.beforeDestroy=function(){P.unsubscribe()},t.prototype.scrollBy=function(e){var t=document.getElementById("current-"+e);if(t){var n=t.getBoundingClientRect();scrollBy(0,n.top-20)}},t=a.a([c()({template:f.e,props:["data"]})],t)}(l.a);l.a.component("realtime-samples",B);var I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.b(t,e),t.prototype.resaveFailedLogs=function(){o&&j.send(function(e){o.send(v.b({kind:"resave failed logs",requestId:e}))}).then(function(e){"resave failed logs result"===e.kind&&("success"===e.resaveFailedLogsResult.kind?C.next({time:d().format("YYYY-MM-DD HH:mm:ss"),content:"handled "+e.resaveFailedLogsResult.savedCount+" / "+e.resaveFailedLogsResult.totalCount+" logs.",hostname:"",filepath:"",timeValue:Date.now()}):C.next({time:d().format("YYYY-MM-DD HH:mm:ss"),content:e.resaveFailedLogsResult.error,hostname:"",filepath:"",timeValue:Date.now()}),D.next())},function(e){C.next({time:d().format("YYYY-MM-DD HH:mm:ss"),content:e.message,hostname:"",filepath:"",timeValue:Date.now()}),D.next()})},t=a.a([c()({template:f.b,props:["data"]})],t)}(l.a);l.a.component("others",I),l.a.component("realtime-logs-title",{template:'<a href="javascript:void">Realtime Logs<span class="badge" v-if="data > 0">{{data}}</span></a>',props:["data"]});var O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data=[{isActive:!0,title:"Search Logs",component:"search-logs",data:""},{isActive:!1,titleComponent:"realtime-logs-title",titleData:0,component:"realtime-logs",data:""},{isActive:!1,title:"Search Samples",component:"search-samples",data:""},{isActive:!1,title:"Realtime Samples",component:"realtime-samples",data:""},{isActive:!1,title:"Others",component:"others",data:""}],t}return a.b(t,e),t.prototype.beforeMount=function(){var e=this;D.subscribe(function(t){e.data[1].titleData++})},t.prototype.beforeDestroy=function(){D.unsubscribe()},t.prototype.switching=function(e){1===e&&(this.data[1].titleData=0)},t=a.a([c()({template:f.a})],t)}(l.a);window.onscroll=function(){var e=window.innerHeight||document.documentElement.clientHeight;F.next(e)},setTimeout(function(){var e=document.getElementsByClassName("tab-container");e&&e.length&&P.next(e[0].getBoundingClientRect().width-30);var t="https:"===location.protocol?"wss:":"ws:",n=new m.a(function(){o=new WebSocket(t+"//"+location.host+"/ws"),o.binaryType="arraybuffer",o.onmessage=function(e){v.a(e.data,function(e){k.next(e)})},o.onclose=function(){n.reconnect()},o.onopen=function(){n.reset()}})},1e3),setInterval(function(){Object(b.e)()},1e3),"zh-CN"===navigator.language&&(R=S.a),function(){new O({el:"#body"})}()},48:function(e,t,n){"use strict"},49:function(e,t,n){"use strict";function s(e){console.log(e)}function i(e){return l.a.protobuf.enabled?d.encode(e).finish():h(e)?JSON.stringify(e):void s(h.errors[0].message)}function o(e,t){if("string"==typeof e){var n=JSON.parse(e);f(n)?t(n):s(f.errors[0].message)}else t(m.toObject(m.decode(new Uint8Array(e))))}t.c=s,t.b=i,t.a=o;var a=n(23),r=(n.n(a),n(24)),l=(n.n(r),n(14)),u=n(22),c=a.Root.fromJSON(u.c),d=c.lookup("RequestProtocol"),m=c.lookup("ResponseProtocol"),p=new r,h=p.compile(u.f),f=p.compile(u.g)},92:function(e,t,n){"use strict";function s(e,t){for(var n=0,s=e;n<s.length;n++){var i=s[n];if(t(i))return i}}function i(e){e.length>S&&e.splice(0,e.length-S)}function o(e){return void 0!==e.port?e.hostname+":"+e.port:e.hostname}function a(e,t){var n=e.compute?e.compute(t.values):t.values[e.name];return void 0===e.unitScale?n:Math.round(n/e.unitScale)}function r(e){for(var t=e.time,n=0,r=f.a.chart;n<r.length;n++){var l=r[n];if(v[l.name].labels.push(t),e.samples){for(var u=0,c=e.samples;u<c.length;u++){var d=c[u];!function(e){var t=o(e),n=a(l,e),i=s(v[l.name].datasets,function(e){return e.label===t});if(i)i.data.push(n);else{for(var r=g[l.name].labels.length+v[l.name].labels.length-1,u=[],c=0;c<r;c++)u.push(0);u.push(n);var d=Object(h.a)(t);v[l.name].datasets.push({label:t,data:u,borderColor:d,backgroundColor:d})}}(d)}for(var m=0,p=v[l.name].datasets;m<p.length;m++){var b=p[m];!function(t){e.samples.every(function(e){return o(e)!==t.label})&&t.data.push(0)}(b)}}i(v[l.name].labels);for(var y=0,S=v[l.name].datasets;y<S.length;y++){var b=S[y];i(b.data)}}}function l(e){if(e){var t=e.getBoundingClientRect();return t.bottom>0&&t.right>0&&t.left<(window.innerWidth||document.documentElement.clientWidth)&&t.top<(window.innerHeight||document.documentElement.clientHeight)}return!1}function u(){for(var e=0,t=f.a.chart;e<t.length;e++){var n=t[e];if(l(y[n.name])&&m!==n.name){var s=v[n.name].labels.length>0;if(s){(c=g[n.name].labels).push.apply(c,v[n.name].labels),v[n.name].labels=[];for(var o=v[n.name].datasets,a=0;a<o.length;a++)a>=g[n.name].datasets.length?g[n.name].datasets.push(JSON.parse(JSON.stringify(o[a]))):(d=g[n.name].datasets[a].data).push.apply(d,o[a].data),o[a].data=[]}i(g[n.name].labels);for(var r=0,u=g[n.name].datasets;r<u.length;r++){i(u[r].data)}s&&b[n.name].update()}}var c,d}function c(){for(var e=0,t=f.a.chart;e<t.length;e++){var n=t[e];!function(e){var t=document.getElementById("current-"+e.name);t.onmouseover=function(){m=e.name},t.onmouseout=function(){m=void 0},y[e.name]=t;var n=t.getContext("2d");b[e.name]=new p(n,{type:"line",data:g[e.name],options:{responsive:!1,animation:{duration:0},elements:{line:{borderWidth:0},point:{radius:0}},scales:{xAxes:[{type:"time",time:{tooltipFormat:"HH:mm:ss"},scaleLabel:{display:!0,labelString:"time"}}],yAxes:[{stacked:!0,scaleLabel:{display:!0}}]}}})}(n)}for(var s=0,i=f.a.chart;s<i.length;s++){var n=i[s],o=document.getElementById("history-"+n.name),a=o.getContext("2d");w[n.name]=new p(a,{type:"line",data:R[n.name],options:{responsive:!1,animation:{duration:0},elements:{line:{borderWidth:0},point:{radius:0}},scales:{xAxes:[{type:"time",time:{tooltipFormat:"YYYY-MM-DD HH:mm:ss"},scaleLabel:{display:!0,labelString:"time"}}],yAxes:[{stacked:!0,scaleLabel:{display:!0}}]}}})}}function d(e){for(var t=0,n=f.a.chart;t<n.length;t++){var i=n[t];R[i.name].labels=[],R[i.name].datasets=[]}for(var r=0,l=e;r<l.length;r++)for(var u=l[r],c=0,d=f.a.chart;c<d.length;c++){var i=d[c];if(R[i.name].labels.push(u.time),u.samples){for(var m=0,p=u.samples;m<p.length;m++){var g=p[m];!function(e){var t=o(e),n=a(i,e),r=s(R[i.name].datasets,function(e){return e.label===t});if(r)r.data.push(n);else{for(var l=R[i.name].labels.length-1,u=[],c=0;c<l;c++)u.push(0);u.push(n);var d=Object(h.a)(t);R[i.name].datasets.push({label:t,data:u,borderColor:d,backgroundColor:d})}}(g)}for(var v=0,b=R[i.name].datasets;v<b.length;v++){var y=b[v];!function(e){u.samples.every(function(t){return o(t)!==e.label})&&e.data.push(0)}(y)}}}for(var S=0,x=f.a.chart;S<x.length;S++){var i=x[S];w[i.name].update()}}t.d=i,t.a=r,t.e=u,t.b=c,t.c=d;for(var m,p=n(33),h=(n.n(p),n(139)),f=n(14),g={},v={},b={},y={},S=300,R={},w={},x=0,L=f.a.chart;x<L.length;x++){var k=L[x];g[k.name]={labels:[],datasets:[]},v[k.name]={labels:[],datasets:[]},R[k.name]={labels:[],datasets:[]}}}},[36]);